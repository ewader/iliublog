<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>服务器 | 图南博客</title>
<meta name="keywords" content="">
<meta name="description" content="老刘的个人博客，一些读书、工作、生活方面的杂记，及折腾各种物件的记录">
<meta name="author" content="老刘">
<link rel="canonical" href="https://iliu.org/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://iliu.org/img/favicon.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://iliu.org/img/favicon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://iliu.org/img/favicon.png">
<link rel="apple-touch-icon" href="https://iliu.org/img/favicon.png">
<link rel="mask-icon" href="https://iliu.org/img/favicon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://iliu.org/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="服务器" />
<meta property="og:description" content="老刘的个人博客，一些读书、工作、生活方面的杂记，及折腾各种物件的记录" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://iliu.org/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" /><meta property="og:image" content="https://iliu.org/papermod-cover.png"/>

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://iliu.org/papermod-cover.png"/>

<meta name="twitter:title" content="服务器"/>
<meta name="twitter:description" content="老刘的个人博客，一些读书、工作、生活方面的杂记，及折腾各种物件的记录"/>

</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://iliu.org" accesskey="h" title="Home (Alt + H)">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://iliu.org/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://iliu.org/archives" title="⏱归档">
                    <span>⏱归档</span>
                </a>
            </li>
            <li>
                <a href="https://iliu.org/categories" title="🧩分类">
                    <span>🧩分类</span>
                </a>
            </li>
            <li>
                <a href="https://iliu.org/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://iliu.org/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://iliu.org">主页</a>&nbsp;»&nbsp;<a href="https://iliu.org/tags/">Tags</a></div>
  <h1>
    服务器
    <a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>改用cloudcone的VPS
    </h2>
  </header>
  <div class="entry-content">
    <p>上个月，由于服务器到期加上注销备案，需要找一个便宜、稳定的香港vps，大厂的云又太贵，看双十一也没有打算作活动的意思。后来看老张说起硅云的云服务器，十年之约用户的福利，2C4G一年380块钱，看了一下网上的介绍，说什么的都有。
PS，网上的评论还真不是空穴来风，妈的，我用了一个月，退款的时候扣了我130。说是按原价计费。套路真深！
抱着试试看的态度，入手了一台，下面谈谈用了快一个月的感受。
首先，VPS的系统都比较老，我常用的debian才是9.0的版本，而新版本是11了，于是，升级，从9升级到10,然后从10升级到11,用了大概1个小时。用oneinstack安装lnmp，用了大概40来分钟。把博客先迁了过来，打开速度还是不错的。硅云说的是用的cn2的线路，这点是加分项。但是它的硬盘和带宽真的是有点差。所以，无论是升级还是编译安装生产力系统都很慢。
看博客运行的还不错，打算把另外一个网站，以及我的商城之类的都迁移过来，就当是个展示吧，在这里出了点问题，另一个网站的数据库有点大，大概30m左右，用phpmyadmin，死活就是导入不进来，刚开始是数据表里有个问题，解决了这个问题之后，导入总是显示503错误。没办法，不用软件导了，直接用终端在数据库里用source的方法来导入，发现导入的时候，速度非常的慢，有的表都要几十秒甚至1分钟才能导入，不过后来算是成功搞进去了。
再来弄我的商城，安装的时候用的Mariadb10.5,商城竟然需要MYSQL5.7以上版本，按理说M也是达到了的，可能是商城程序的问题，没有兼容。那就换成Mysql好了，删除原来的Mariadb，编译安装mysql8.0,安装到中间，ssh断了，我以为是网络的问题，但是怎么重连都连不上。我觉得是我的问题，来回的升级系统，折腾数据库。那就重装系统吧。结果，等了1一个小时也没有装好。
赶紧联系客服，客服说2个小时解决。我问是什么问题，他说是硬盘的问题。看来，和我无关。这还没有咋折腾呢，硬盘就挂了，折腾了这么多的服务器，还从来没有玩坏过硬盘类。
这时候，对这个服务器就有点不满意了，然后就是备份的问题，我的备份方案是备份到本地NAS，结果是一言难尽，2m的小水管，备份是太慢了。
后来看MJJ以及城南旧事的推荐，说cloudcone也可以，看了看双11有活动，于是入手了一台，硅云已经申请退款了。
CloudCone 介绍 CloudCone 成立于 2017 年，美国注册公司 (怀俄明州 2017-000753144)。主营美国洛杉矶 MultaCom 机房的云服务器 / VPS、独立服务器、电子邮件托管等业务。VPS 基于 KVM 虚拟，采用自行研发的控制面板。其所在的 MultaCom 机房采用动态路由网络，会根据不同网络状态调整线路，很多地区的电信网络会走 CN2 线路，因此延迟和稳定性在非高峰时段都较为优秀。同时该主机商提供了按秒计费、随删随用、定期备份服务。支持支付宝、Paypal、信用卡等方式付款。
CloudCone 官网 主要有两个，其中一个被墙，提供了国内用户专用域名。
官网地址：https://cloudcone.com （被墙，需代理） 官方镜像：https://cloudcone.com.cn （正常访问） CloudCone 最新优惠活动 据我了解，CloudCone 经常会有优惠活动，集中在黑色星期五、情人节、复活节、农历新年、周年纪念等时间，可以在官网的 Hello 界面查看最新的优惠信息。我也会在这个页面不定期更新。
CloudCone 六周年限量促销 VPS 美国西海岸洛杉矶 MultaCom 机房，千兆宽带，1个 IPv4 地址，3个 IPv6 地址，基于 KVM 虚拟，纯 SSD RAID 10 存储。
CPU 内存 硬盘（SSD） 流量 带宽 价格 购买地址 2核 1G 30G 1T 1Gbps $18.71/年 点击购买 2核 2G 60G 2T 1Gbps $33....</p>
  </div>
  <footer class="entry-footer"><span title='2022-11-07 06:58:25 +0000 +0000'>十一月 7, 2022</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;老刘</footer>
  <a class="entry-link" aria-label="post link to 改用cloudcone的VPS" href="https://iliu.org/4285.html"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>网站换了一台服务器
    </h2>
  </header>
  <div class="entry-content">
    <p>前几天发现网站有点卡，特别是回复评论的时候，速度很慢。然后后台看了一下进程，发现WWW进程占用的CPU会一下一下的飙升，最高的时候达到了100%。但是根据流量的话，不可能是这样一个占用。这个博客也就日流量30IP左右，另外一个网站，日流量就是400-500之间。作为一台2核4g内存的vps,不可能达到这个资源占用水平。所以，打算重新整下生产环境。
昨天下午正好有点时间，把两个网站进行了备份，这个博客还好，打包之后只有100多兆，另外一个网站打包后竟然有了1G多，唉。所有，能不折腾还是少折腾啊。
下载完了之后，进到篱落的后台重新安装系统镜像，结果发现，centos8安装不上，其他的Ubuntu啊，debian啊等等也是安装不了。装来装去只有centos7.6能装进去，虽然说理想的系统是8，但是7.6也就凑合了。系统装好后，开始装oneinstack，结果发现，无法下载安装包，本地电脑打开是正常的，ping一下那个网址，也PING不通。不死心，安装lnmp吧，结果还是无法下载安装包，nmmp，都不行，我装宝塔总可以吧，我去，宝塔也装不了，?！~~~
于是联系小张，这货不知道去哪pc去了?，到晚上才回复我，要了我的ip，后来说是宿主机坏了，需要更换。想着会花一段时间呢，于是开个腾讯港轻量应急，反正也可以随时退款。题外话，腾讯香港轻量晚上有点卡，其他时间倒是还可以。结果小张说给我换新的服务器。
早上一大早就给搞好了，弄生产环境搞了半天，下午总算网站恢复正常了。
总的来说，篱落的主机还是推荐使用的，和腾讯阿里等大厂相比稳定性虽然稍差一些，但是胜在价格便宜啊，象我这款人情价的2h4g的vps才300块钱，还要啥自行车啊。
如果你想要找一款性价比不错的主机空间，不妨看看篱落吧，走我下面的链接，据说有优惠！
https://my.liluohost.com/aff.php?aff=148</p>
  </div>
  <footer class="entry-footer"><span title='2020-10-14 07:03:04 +0000 +0000'>十月 14, 2020</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;老刘</footer>
  <a class="entry-link" aria-label="post link to 网站换了一台服务器" href="https://iliu.org/3309.html"></a>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://iliu.org">图南博客</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
